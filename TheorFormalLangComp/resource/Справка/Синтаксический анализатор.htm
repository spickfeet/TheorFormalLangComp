<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<Title>Синтаксический анализатор</Title>
</HEAD>
<BODY>

<h2>Грамматика</h2>
<br>
<span> < CON > => Console< POINT > </span>
<br>
<span> < POINT > => .< READLN > </span>
<br>
<span> < READLN > => ReadLine< OPENBR >  </span>
<br>
<span> < OPENBR >  => (< CLOSEBR > </span>
<br>
<span> < CLOSEBR > => )< END > </span>
<br>
<span> < END > => ;  </span>
<br>
<span> Z = < CON > </span>
<br>
<span> VT = { Console, ., ReadLine, (, ), ; } </span>
<br>
<span> VN = { < CON >, < POINT >, < READLN >, < OPENBR >, < CLOSEBR >, < END > }  </span>
<br>

<h2>Язык</h2>
<span>L(G[CON]) = {Console.ReadLine();}</span>
<br>

<h2>Классификация</h2>
<span>Согласно классификации Хомского, грамматика G[‹CON›] является автоматной.</span>
<br>
<span>Все правила относятся к классу праворекурсивных продукций (A => aB | a | e). Может быть представлена конечным автоматом.</span>
<br>

<h2>Граф состояний</h2>
<img src="graph.png">
<br>
<span>Сплошные стрелки - синтаксически верный разбор</span>
<br>
<span>Пунктирные стрелки - состояние ошибки (ERROR)</span>
<br>
<p>Состояние 7 символизирует успешное завершение разбора.</p>

<h2>Метод нейтрализации</h2>
<p>Согласно заданию, необходимо реализовать нейтрализацию синтаксических ошибок, используя <span class="highlight">метод Айронса</span>.</p>
        <h3>Метод Айронса</h3>
        <p>Суть метода Айронса заключается в следующем:</p>
        <p>При обнаружении ошибки (во входной цепочке в процессе разбора встречается символ, который не соответствует ни одному из ожидаемых символов), входная цепочка символов выглядит следующим образом: <span class="highlight">Tt</span>, где <span class="highlight">T</span> – следующий символ во входном потоке (ошибочный символ), <span class="highlight">t</span> – оставшаяся во входном потоке цепочка символов после T.</p>
   
        <div class="algorithm">
            <p><strong>Алгоритм нейтрализации состоит из следующих шагов:</strong></p>
            <ol>
                <li>Определяются недостроенные кусты дерева разбора;</li>
                <li>Формируется множество <span class="highlight">L</span> – множество остаточных символов недостроенных кустов дерева разбора;</li>
                <li>Из входной цепочки удаляется следующий символ до тех пор, пока цепочка не примет вид <span class="highlight">Tt</span>, такой, что <span class="highlight">U => T</span>, где <span class="highlight">U ? L</span>, то есть до тех пор, пока следующий в цепочке символ T не сможет быть выведен из какого-нибудь из остаточных символов недостроенных кустов.</li>
                <li>Определяется, какой из недостроенных кустов стал причиной появления символа U в множестве L (иначе говоря, частью какого из недостроенных кустов является символ U).</li>
            </ol>
            <p>Таким образом, определяется, к какому кусту в дереве разбора можно «привязать» оставшуюся входную цепочку символов после удаления из текста ошибочного фрагмента.</p>
        </div>
        
        <h2>Метод Айронса для автоматной грамматики</h2>
        <p>Разрабатываемый синтаксический анализатор построен на базе автоматной грамматики. Реализация алгоритма Айронса для автоматной грамматики имеет следующую особенность.</p>
        
        <div class="figure">
            <!-- Место для рисунка 1 -->
	<img src="tree_one.png">
            <p class="figure-caption">Рисунок 1 – Структура дерева разбора для автоматной грамматики</p>
        </div>
        
        <p>Таким образом, при возникновении синтаксической ошибки в процессе разбора с использованием автоматной грамматики, в дереве разбора всегда будет только один недостроенный куст (см. рисунок 2).</p>
        
        <div class="figure">
            <!-- Место для рисунка 2 -->
            <img src="tree_two.png" alt="Недостроенный куст при ошибке">
            <p class="figure-caption">Рисунок 2 – Недостроенный куст при возникновении синтаксической ошибки (выделен пунктиром)</p>
        </div>
        
        <div class="note">
            <p>Поскольку единственный недостроенный куст – это тот, во время построения которого возникла синтаксическая ошибка, то это единственный куст, к которому можно привязать оставшуюся входную цепочку символов.</p>
            <p>Предлагается свести алгоритм нейтрализации к последовательному удалению следующего символа во входной цепочке до тех пор, пока следующий символ не окажется одним из допустимых в данный момент разбора.</p>
        </div>


<h2>Тестовые примеры</h2>
        
        <div >
            <h3>Пример 1:</h3>
            <div ><strong>Ввод:</strong> con.READ(;</div>
            <div >
                <strong>Результат:</strong>
                <div >Строка: 1 Глобальный индекс: 0 Ошибка "con" не является ожидаемым. <span>(Заменяется на "Console")</span></div>
                <div >Строка: 1 Глобальный индекс: 4 Ошибка "READ" не является ожидаемым. <span >(Заменяется на "ReadLine")</span></div>
                <div >Строка: 1 Глобальный индекс: 9 Ошибка Ожидается ")" перед ";"</div>
            </div>
        </div>
        
        <div ></div>
        
        <div >
            <h3>Пример 2:</h3>
            <div class="input"><strong>Ввод:</strong> .ReadLine());</div>
            <div class="output">
                <strong>Результат:</strong>
                <div class="error">Строка: 1 Глобальный индекс: 0 Ошибка Ожидается "Console" перед "."</div>
                <div class="error">Строка: 1 Глобальный индекс: 11 Ошибка ")" не является ожидаемым. <span class="correction">(Отбрасывается)</span></div>
            </div>
        </div>
        
        <div ></div>
        
        <div >
            <h3>Пример 3:</h3>
            <div ><strong>Ввод:</strong> Console.Read</div>
            <div >
                <strong>Результат:</strong>
                <div >Строка: 1 Глобальный индекс: 8 Ошибка "Read" не является ожидаемым. <span >(Заменяется на "ReadLine")</span></div>
                <div >Строка: 1 Глобальный индекс: 12 Ошибка В конце ожидается "("</div>
                <div >Строка: 1 Глобальный индекс: 12 Ошибка В конце ожидается ")"</div>
                <div >Строка: 1 Глобальный индекс: 12 Ошибка В конце ожидается ";"</div>
            </div>
        </div>


</BODY>
</HTML>
